!function(a){"use strict";var b=window.conf=window.conf||{};a.extend(b,{parse:function(c){function d(){t(),u(),v(),w()}function e(){return!(A||D)}function f(a){return a.match(/步骤[:：]([点线圆垂分角平行定交，, ]+)/)&&(a=a.replace(/步骤[:：]([点线圆垂分角平行定交，, ]+)/g,"步骤："+y(RegExp.$1))),a}function g(a){return a.match(/\[([^\]]+)]\(([^\)]+)\)/g)&&(a=a.replace(/\[([^\]]+)]\(([^\)]+)\)/g,'<button data-file="$2">$1</button>')),a}function h(a){return a.match(/\*([^\*]+)\*/g)&&(a=a.replace(/\*([^\*]+)\*/g,"<em>$1</em>")),a}function i(a){return a.match(/\*\*([^\*]+)\*\*/g)&&(a=a.replace(/\*\*([^\*]+)\*\*/g,"<strong>$1</strong>")),a}function j(a){return a.match(/_([^_<]+)_/g)&&(a=a.replace(/_([^_<]+)_/g,"<i>$1</i>")),a}function k(a){return a.match(/__([^_]+)__/g)&&(a=a.replace(/__([^_]+)__/g,"<b>$1</b>")),a}function l(a){return a.match(/ \s+$/)&&(a=a.replace(/ \s+$/,"<br>")),a}function m(a){z.push(a)}function n(a,c){var d=("00000"+b.indexHideId++).slice(-5),e="";c.match(/^(.*)<br>$/)&&(e="<br>",c=RegExp.$1),z.push('<span data-h="'+d+'">'+a+"</span>"),z.push('<samp data-h="'+d+'">'+c+"</samp>"+e)}function o(a,b){z.push("<h"+a+">"+b+"</h"+a+">")}function p(){C||(C=!0,z.push("<li>"))}function q(){B||(B=!0,z.push("<ul>\n"))}function r(){D||(D=!0,z.push("<p>"))}function s(a){var b="";A||(A=!0,a.match(/^([\d\.]+)/)&&(b=' data-levelid="'+RegExp.$1+'"'),z.push("<div"+b+">"))}function t(){C&&(C=!1,z.push("</li>\n"))}function u(){B&&(B=!1,z.push("</ul>\n"))}function v(){D&&(D=!1,z.push("</p>\n"))}function w(){A&&(A=!1,z.push("</div>\n"))}function x(b){var c=b.replace(/[\r\n]/g,"\n").concat("\n\n").split("\n");return a.each(c,function(a){c[a]=c[a].replace(/^\s+$/,"")}),c.join("\n").replace(/\n\n+/g,"\n\n").split("\n")}function y(c){var d,e="";return d=c.replace(/[,，\s]+/g," ").split(" ").join(" Next ").split(" "),a.each(d,function(a,c){e+='<span class="tool '+b.toolDict[c]+'"></span>'}),e}var z=[],A=!1,B=!1,C=!1,D=!1,E=x(c);return a.each(E,function(a){var b=E[a];if(b||d(),b=l(b),b=g(b),b=k(b),b=j(b),b=i(b),b=h(b),b=f(b),b.match(/^(#+)(.*)$/)){var c=RegExp.$1.length,u=RegExp.$2.trim();s(u),o(c,u)}else b.match(/^-(.*)$/)?(!B&&q(),C&&t(),p(),m(RegExp.$1)):b.match(/^\+(.*)([:：].*)$/)?(!B&&q(),C&&t(),p(),n(RegExp.$1,RegExp.$2)):(b&&e()&&r(),m(b))}),d(),z.join("")},indexHideId:0,toolDict:{"点":"point","线":"line","圆":"circle","垂分":"perpendicular-bisector","垂线":"perpendicular","角分":"angle-bisector","平行":"parallel","定圆":"compass","交点":"intersect",Next:"next"}})}(jQuery);