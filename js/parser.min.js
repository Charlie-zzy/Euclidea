!function(a){"use strict";var b=window.conf=window.conf||{};a.extend(b,{parse:function(c){function d(){x(),v(),w(),y(),z()}function e(){return!(D||G)}function f(a){return a.match(/步骤[:：]([点线圆垂分角平行定交，, ]+)/)&&(a=a.replace(/步骤[:：]([点线圆垂分角平行定交，, ]+)/g,"步骤："+B(RegExp.$1))),a}function g(a){return a.match(/!\[([^\]]+)]\(([^\)]+\.png)\)/g)&&(a=a.replace(/!\[([^\]]+)]\(([^\)]+\.png)\)/g,'<img src="$2">$1</imgbutton>')),a}function h(a){return a.match(/\[([^\]]+)]\(([^\)]+\.png)\)/g)&&(a=a.replace(/\[([^\]]+)]\(([^\)]+\.png)\)/g,'<button data-img="$2">$1</button>')),a}function i(a){return a.match(/\[([^\]]+)]\(([^\)]+)\)/g)&&(a=a.replace(/\[([^\]]+)]\(([^\)]+)\)/g,'<a href="$2">$1</a>')),a}function j(a){return a.match(/\*([^\*]+)\*/g)&&(a=a.replace(/\*([^\*]+)\*/g,"<em>$1</em>")),a}function k(a){return a.match(/\*\*([^\*]+)\*\*/g)&&(a=a.replace(/\*\*([^\*]+)\*\*/g,"<strong>$1</strong>")),a}function l(a){return a.match(/_([^_<]+)_/g)&&(a=a.replace(/_([^_<]+)_/g,"<i>$1</i>")),a}function m(a){return a.match(/__([^_]+)__/g)&&(a=a.replace(/__([^_]+)__/g,"<b>$1</b>")),a}function n(a){return a.match(/ \s+$/)&&(a=a.replace(/ \s+$/,"<br>")),a}function o(a){C.push(a)}function p(a,c){var d=("00000"+b.indexHideId++).slice(-5),e=a.match(/步骤/)?"step-container":"";C.push('<span class="vm">'+a+"</span>"),C.push('<button class="vm" data-h="'+d+'">点击显示</button>'),C.push('<figure class="vm '+e+' nodisp" data-h="'+d+'">'+c)}function q(a,b){C.push("<h"+a+">"+b+"</h"+a+">")}function r(){F||(F=!0,C.push("<li>"))}function s(){E||(E=!0,C.push("<ul>\n"))}function t(){G||(G=!0,C.push("<p>"))}function u(a){var b="";D||(D=!0,a.match(/^([\d\.]+)/)&&(b=' class="level" data-levelid="'+RegExp.$1+'"'),C.push("<div"+b+">"))}function v(){F&&(F=!1,C.push("</li>\n"))}function w(){E&&(E=!1,C.push("</ul>\n"))}function x(){H&&(H=!1,C.push("</figure>\n"))}function y(){G&&(G=!1,C.push("</p>\n"))}function z(){D&&(D=!1,C.push("</div>\n"))}function A(b){var c=b.replace(/[\r\n]/g,"\n").concat("\n\n").split("\n");return a.each(c,function(a){c[a]=c[a].replace(/^\s+$/,"")}),c.join("\n").replace(/\n\n+/g,"\n\n").split("\n")}function B(c){var d,e="";return d=c.replace(/[,，\s]+/g," ").split(" ").join(" Next ").split(" "),a.each(d,function(a,c){e+='<span class="tool '+b.toolDict[c]+'"></span>'}),e}var C=[],D=!1,E=!1,F=!1,G=!1,H=!1,I=A(c);return a.each(I,function(a){var b=I[a];if(b||d(),b=n(b),b=g(b),b=h(b),b=i(b),b=m(b),b=l(b),b=k(b),b=j(b),b=f(b),b.match(/^(#+)(.*)$/)){var c=RegExp.$1.length,w=RegExp.$2.trim();u(w),q(c,w)}else b.match(/^-(.*)$/)?(H&&x()(!E)&&s(),F&&v(),r(),o(RegExp.$1)):b.match(/^\+(.*[:：])(.*)$/)?(H&&x()(!E)&&s(),F&&v(),r(),p(RegExp.$1,RegExp.$2)):(b&&e()&&t(),o(b))}),d(),C.join("")},indexHideId:0,toolDict:{"点":"point","线":"line","圆":"circle","垂分":"perpendicular-bisector","垂线":"perpendicular","角分":"angle-bisector","平行":"parallel","定圆":"compass","交点":"intersect",Next:"next"}})}(jQuery);