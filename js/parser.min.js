!function(a){"use strict";var b=window.conf=window.conf||{};a.extend(b,{parse:function(c){function d(){u(),v(),w(),x()}function e(){return!(B||E)}function f(a){return a.match(/步骤[:：]([点线圆垂分角平行定交，, ]+)/)&&(a=a.replace(/步骤[:：]([点线圆垂分角平行定交，, ]+)/g,"步骤："+z(RegExp.$1))),a}function g(a){return a.match(/\[([^\]]+)]\(([^\)]+\.png)\)/g)&&(a=a.replace(/\[([^\]]+)]\(([^\)]+\.png)\)/g,'<button data-img="$2">$1</button>')),a}function h(a){return a.match(/\[([^\]]+)]\(([^\)]+)\)/g)&&(a=a.replace(/\[([^\]]+)]\(([^\)]+)\)/g,'<a href="$2">$1</a>')),a}function i(a){return a.match(/\*([^\*]+)\*/g)&&(a=a.replace(/\*([^\*]+)\*/g,"<em>$1</em>")),a}function j(a){return a.match(/\*\*([^\*]+)\*\*/g)&&(a=a.replace(/\*\*([^\*]+)\*\*/g,"<strong>$1</strong>")),a}function k(a){return a.match(/_([^_<]+)_/g)&&(a=a.replace(/_([^_<]+)_/g,"<i>$1</i>")),a}function l(a){return a.match(/__([^_]+)__/g)&&(a=a.replace(/__([^_]+)__/g,"<b>$1</b>")),a}function m(a){return a.match(/ \s+$/)&&(a=a.replace(/ \s+$/,"<br>")),a}function n(a){A.push(a)}function o(a,c){var d=("00000"+b.indexHideId++).slice(-5),e="";c.match(/^(.*)<br>$/)&&(e="<br>",c=RegExp.$1),A.push('<span class="vm">'+a+"</span>"),A.push('<button class="vm" data-h="'+d+'">点击显示</button>'),A.push('<figure class="vm nodisp" data-h="'+d+'">'+c+"</figure>"+e)}function p(a,b){A.push("<h"+a+">"+b+"</h"+a+">")}function q(){D||(D=!0,A.push("<li>"))}function r(){C||(C=!0,A.push("<ul>\n"))}function s(){E||(E=!0,A.push("<p>"))}function t(a){var b="";B||(B=!0,a.match(/^([\d\.]+)/)&&(b=' class="level" data-levelid="'+RegExp.$1+'"'),A.push("<div"+b+">"))}function u(){D&&(D=!1,A.push("</li>\n"))}function v(){C&&(C=!1,A.push("</ul>\n"))}function w(){E&&(E=!1,A.push("</p>\n"))}function x(){B&&(B=!1,A.push("</div>\n"))}function y(b){var c=b.replace(/[\r\n]/g,"\n").concat("\n\n").split("\n");return a.each(c,function(a){c[a]=c[a].replace(/^\s+$/,"")}),c.join("\n").replace(/\n\n+/g,"\n\n").split("\n")}function z(c){var d,e="";return d=c.replace(/[,，\s]+/g," ").split(" ").join(" Next ").split(" "),a.each(d,function(a,c){e+='<span class="tool '+b.toolDict[c]+'"></span>'}),e}var A=[],B=!1,C=!1,D=!1,E=!1,F=y(c);return a.each(F,function(a){var b=F[a];if(b||d(),b=m(b),b=g(b),b=h(b),b=l(b),b=k(b),b=j(b),b=i(b),b=f(b),b.match(/^(#+)(.*)$/)){var c=RegExp.$1.length,v=RegExp.$2.trim();t(v),p(c,v)}else b.match(/^-(.*)$/)?(!C&&r(),D&&u(),q(),n(RegExp.$1)):b.match(/^\+(.*[:：])(.*)$/)?(!C&&r(),D&&u(),q(),o(RegExp.$1,RegExp.$2)):(b&&e()&&s(),n(b))}),d(),A.join("")},indexHideId:0,toolDict:{"点":"point","线":"line","圆":"circle","垂分":"perpendicular-bisector","垂线":"perpendicular","角分":"angle-bisector","平行":"parallel","定圆":"compass","交点":"intersect",Next:"next"}})}(jQuery);